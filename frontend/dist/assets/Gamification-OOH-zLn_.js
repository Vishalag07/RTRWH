var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{j as o,r as d,L as n}from"./react-vendor-CJ3VGwWI.js";import{a as c}from"./index-ZW20BDBo.js";import{m as x,A as m}from"./framer-motion-C2hfdD_N.js";import"./vendor-wFsWlTaG.js";const p=({value:e,className:t="",colorClass:s="from-blue-500 to-cyan-500"})=>{const a=Math.max(0,Math.min(100,e));return o.jsx("div",{className:`w-full h-2 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden ${t}`,"aria-label":`Progress ${a}%`,children:o.jsx(x.div,{className:`h-full rounded-full bg-gradient-to-r ${s}`,initial:{width:0},animate:{width:`${a}%`},transition:{duration:.6}})})},h=({data:e,onClick:t})=>{const s=Math.round(e.progress/e.max*100);return o.jsx(x.div,{className:"p-4 rounded-xl border transition-all duration-200 cursor-pointer "+(e.unlocked?"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200/60 dark:from-yellow-500/10 dark:to-orange-500/10 dark:border-yellow-500/30":"bg-slate-50 border-slate-200/60 dark:bg-slate-700/30 dark:border-slate-600/30"),whileHover:{scale:1.02},onClick:()=>t(e),"aria-label":`${e.title} achievement`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/60 dark:bg-slate-800/60 flex items-center justify-center text-2xl",children:e.unlocked?e.icon:"🔒"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.title}),e.unlocked&&o.jsx(x.span,{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-500/15 text-yellow-700 dark:text-yellow-300",initial:{scale:0},animate:{scale:1},children:"unlocked"})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:e.description}),o.jsx(p,{value:s}),o.jsxs("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:[s,"% complete"]})]})]})})},b=({data:e,onUpdate:t,onComplete:s})=>o.jsxs(x.div,{className:"p-4 rounded-xl border bg-slate-50 border-slate-200/60 dark:bg-slate-700/30 dark:border-slate-600/30",whileHover:{scale:1.02},children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.title}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.deadline})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:e.note||"You're doing great—keep going!"}),o.jsx(p,{value:e.progress,colorClass:100===e.progress?"from-emerald-500 to-green-500":"from-blue-500 to-cyan-500"}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:[e.progress,"%"]}),o.jsx("input",{type:"range",min:0,max:100,value:e.progress,onChange:a=>{const l=Math.max(0,Math.min(100,Number(a.target.value)));t(e.id,l),100===l&&s&&s(e)},className:"w-40 accent-blue-600","aria-label":"Update goal progress"})]})]}),g=()=>{const{isDark:e}=c(),[p,g]=d.useState(null),[u,j]=d.useState([{id:1,title:"Finish 5 Assessments",deadline:"This week",progress:70,note:"You're 70% there! Keep going!"},{id:2,title:"Reach 95% Prediction Accuracy",deadline:"This month",progress:42},{id:3,title:"Analyze 10 Heatmaps",deadline:"Next 10 days",progress:10}]),f=d.useMemo(()=>[{id:1,title:"Water Warrior",description:"Complete 10 assessments",icon:"🏆",progress:8,max:10,unlocked:!1},{id:2,title:"Conservation Champ",description:"Save 1M liters of water",icon:"💧",progress:75e4,max:1e6,unlocked:!1},{id:3,title:"Data Detective",description:"Analyze 50 groundwater sources",icon:"🔍",progress:50,max:50,unlocked:!0},{id:4,title:"Prediction Master",description:"Achieve 95% rainfall accuracy",icon:"🌧️",progress:94,max:95,unlocked:!1}],[]),v=(e,o)=>{j(d=>d.map(d=>{return d.id===e?(n=((e,t)=>{for(var s in t||(t={}))l.call(t,s)&&i(e,s,t[s]);if(a)for(var s of a(t))r.call(t,s)&&i(e,s,t[s]);return e})({},d),t(n,s({progress:o}))):d;var n}))},y=e=>{alert(`🎉 Goal completed: ${e.title}`)};return o.jsxs("div",{className:"min-h-screen "+(e?"bg-slate-900":"bg-gradient-to-br from-slate-50 via-white to-blue-50"),children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 backdrop-blur-md border-b "+(e?"bg-slate-900/70 border-slate-800/50":"bg-white/70 border-slate-200/60"),children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[o.jsx(n,{to:"/",className:"text-lg font-semibold "+(e?"text-slate-100":"text-slate-900"),children:"RTRWH"}),o.jsx(n,{to:"/dashboard",className:"text-sm "+(e?"text-slate-300 hover:text-white":"text-slate-600 hover:text-slate-900"),children:"Back to Dashboard"})]})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-6 pt-24 pb-12",children:[o.jsxs("section",{className:"mb-8",children:[o.jsx(x.h1,{className:"text-3xl font-bold "+(e?"text-slate-100":"text-slate-900"),initial:{y:10,opacity:0},animate:{y:0,opacity:1},children:"Gamification: Achievements & Goals"}),o.jsx(x.p,{className:(e?"text-slate-400":"text-slate-600")+" mt-2",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:"Stay motivated and track your impact. Earn badges, complete goals, and celebrate progress."})]}),o.jsxs("section",{className:"mb-10",children:[o.jsx("h2",{className:"text-xl font-semibold mb-3 "+(e?"text-slate-100":"text-slate-900"),children:"Your Achievements"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>o.jsx(h,{data:e,onClick:g},e.id))})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-3 "+(e?"text-slate-100":"text-slate-900"),children:"Your Goals"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(e=>o.jsx(b,{data:e,onUpdate:v,onComplete:y},e.id))})]})]}),o.jsx(m,{children:p&&o.jsxs(x.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>g(null)}),o.jsx(x.div,{className:"relative w-full max-w-md rounded-2xl border backdrop-blur-md "+(e?"bg-slate-800/95 border-slate-700/50":"bg-white/95 border-slate-200/50"),initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"text-3xl",children:p.icon}),o.jsx("h3",{className:"text-lg font-semibold "+(e?"text-slate-100":"text-slate-900"),children:p.title})]}),o.jsx("p",{className:(e?"text-slate-300":"text-slate-600")+" text-sm mb-4",children:p.description}),o.jsxs("div",{className:(e?"text-slate-400":"text-slate-600")+" text-xs",children:["Progress: ",Math.round(p.progress/p.max*100),"%"]}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 rounded-xl text-sm "+(e?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-slate-100 hover:bg-slate-200 text-slate-800"),children:"Close"})})]})})]})})]})};export{g as default};
