var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&i(e,a,t[a]);if(s)for(var a of s(t))r.call(t,a)&&i(e,a,t[a]);return e},n=(e,s)=>t(e,a(s));import{k as d,r as c,j as x,a7 as b,a5 as m,l as u,m as h,ac as p,ad as g,ae as f,af as v,ag as y}from"./react-vendor-CJ3VGwWI.js";import{u as j,a as N}from"./index-ZW20BDBo.js";import{m as w,A as k}from"./framer-motion-C2hfdD_N.js";import"./vendor-wFsWlTaG.js";const S=()=>{var e;const{user:t,updateUser:a,isAuthenticated:s,isLoading:l}=j(),{isDark:r}=N(),i=d(),[S,C]=c.useState("profile"),[P,T]=c.useState(!1);if(c.useEffect(()=>{l||s||i("/auth?mode=login")},[s,l,i]),l)return x.jsx("div",{className:"min-h-screen flex items-center justify-center "+(r?"bg-slate-900":"bg-gradient-to-br from-slate-50 via-white to-blue-50"),children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-lg font-medium "+(r?"text-slate-300":"text-slate-600"),children:"Checking authentication..."})]})});if(!s)return null;const A=[{id:"profile",label:"Profile",icon:u},{id:"settings",label:"Settings",icon:h},{id:"security",label:"Security",icon:p},{id:"notifications",label:"Notifications",icon:g},{id:"billing",label:"Billing",icon:f}],[E,O]=c.useState(""),[H,U]=c.useState(""),[D,F]=c.useState(""),[R,I]=c.useState(""),[L,z]=c.useState({visible:!1,message:"",variant:"success"}),[B,M]=c.useState(!1);c.useEffect(()=>{O((null==t?void 0:t.name)||""),U((null==t?void 0:t.email)||""),F((null==t?void 0:t.location)||"")},[t]);return x.jsxs("div",{className:"min-h-screen "+(r?"bg-slate-900":"bg-gradient-to-br from-slate-50 via-white to-blue-50"),children:[L.visible&&x.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50",children:x.jsxs("div",{className:"px-5 py-3 rounded-2xl shadow-2xl border backdrop-blur-md flex items-center gap-3 "+("success"===L.variant?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:["success"===L.variant?x.jsx(b,{className:"w-5 h-5 text-green-600"}):x.jsx(m,{className:"w-5 h-5 text-red-600"}),x.jsx("span",{className:"font-medium",children:L.message})]})}),x.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 pt-24",children:[x.jsxs(w.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[x.jsx("h1",{className:"text-4xl font-bold mb-3 "+(r?"text-slate-100":"text-slate-900"),children:"User Profile"}),x.jsx("p",{className:"text-lg "+(r?"text-slate-400":"text-slate-600"),children:"Manage your account settings and preferences"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[x.jsx(w.div,{className:"lg:col-span-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},children:x.jsxs("div",{className:"p-6 rounded-2xl shadow-soft border backdrop-blur-sm "+(r?"bg-slate-800/50 border-slate-700/50":"bg-white/50 border-slate-200/50"),children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white text-2xl font-bold",children:(null==(e=null==t?void 0:t.name)?void 0:e.charAt(0).toUpperCase())||"U"}),x.jsx("h3",{className:"text-lg font-semibold "+(r?"text-slate-100":"text-slate-900"),children:(null==t?void 0:t.name)||"User"}),x.jsx("p",{className:"text-sm "+(r?"text-slate-400":"text-slate-600"),children:(null==t?void 0:t.email)||"user@example.com"})]}),x.jsx("nav",{className:"space-y-2",children:A.map((e,t)=>{const a=e.icon;return x.jsxs(w.button,{onClick:()=>C(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 "+(S===e.id?r?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-600 border border-blue-200":r?"text-slate-300 hover:bg-slate-700/50 hover:text-white":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},whileHover:{scale:1.02},whileTap:{scale:.98},children:[x.jsx(a,{className:"w-4 h-4"}),e.label]},e.id)})})]})}),x.jsx(w.div,{className:"lg:col-span-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:x.jsx("div",{className:"p-6 rounded-2xl shadow-soft border backdrop-blur-sm "+(r?"bg-slate-800/50 border-slate-700/50":"bg-white/50 border-slate-200/50"),children:x.jsxs(k,{mode:"wait",children:["profile"===S&&x.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold "+(r?"text-slate-100":"text-slate-900"),children:"Profile Information"}),x.jsx(w.button,{onClick:()=>T(!P),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 bg-blue-600 hover:bg-blue-700 text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(v,{className:"w-4 h-4"}),P?"Cancel":"Edit Profile"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(r?"text-slate-300":"text-slate-700"),children:"Full Name"}),x.jsx("input",{type:"text",value:E,onChange:e=>O(e.target.value),disabled:!P,className:"w-full px-4 py-3 rounded-xl border transition-all duration-200 "+(P?r?"bg-slate-700 border-slate-600 text-slate-100 focus:border-blue-500":"bg-white border-slate-300 text-slate-900 focus:border-blue-500":r?"bg-slate-800/50 border-slate-700 text-slate-400":"bg-slate-100 border-slate-200 text-slate-500")})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(r?"text-slate-300":"text-slate-700"),children:"Email Address"}),x.jsx("input",{type:"email",value:H,onChange:e=>{U(e.target.value),I("")},disabled:!P,className:"w-full px-4 py-3 rounded-xl border transition-all duration-200 "+(P?r?"bg-slate-700 border-slate-600 text-slate-100 focus:border-blue-500":"bg-white border-slate-300 text-slate-900 focus:border-blue-500":r?"bg-slate-800/50 border-slate-700 text-slate-400":"bg-slate-100 border-slate-200 text-slate-500")}),R&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:R})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(r?"text-slate-300":"text-slate-700"),children:"Location"}),x.jsx("input",{type:"text",value:D,onChange:e=>F(e.target.value),placeholder:"Enter your location",disabled:!P,className:"w-full px-4 py-3 rounded-xl border transition-all duration-200 "+(P?r?"bg-slate-700 border-slate-600 text-slate-100 focus:border-blue-500":"bg-white border-slate-300 text-slate-900 focus:border-blue-500":r?"bg-slate-800/50 border-slate-700 text-slate-400":"bg-slate-100 border-slate-200 text-slate-500")})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(r?"text-slate-300":"text-slate-700"),children:"Member Since"}),x.jsx("input",{type:"text",value:"January 2024",disabled:!0,className:"w-full px-4 py-3 rounded-xl border "+(r?"bg-slate-800/50 border-slate-700 text-slate-400":"bg-slate-100 border-slate-200 text-slate-500")})]})]}),P&&x.jsxs(w.div,{className:"flex gap-3 mt-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[x.jsx(w.button,{onClick:()=>{return e=void 0,s=null,l=function*(){var e,s;I("");const l=(null==t?void 0:t.email)||"";if(H.trim()!==l){const e=H.trim(),t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!e)return void I("Email is required when changing email");if(!t.test(e))return void I("Please enter a valid email address")}try{M(!0);const e=yield a({name:E,email:H,location:D});O(e.name||E),U(e.email||H),F(e.location||D),z({visible:!0,message:"Changes saved",variant:"success"}),setTimeout(()=>z(e=>n(o({},e),{visible:!1})),2e3),T(!1)}catch(r){const t=(null==(s=null==(e=null==r?void 0:r.response)?void 0:e.data)?void 0:s.detail)||"Failed to save changes";z({visible:!0,message:t,variant:"error"}),setTimeout(()=>z(e=>n(o({},e),{visible:!1})),2500)}finally{M(!1)}},new Promise((t,a)=>{var r=e=>{try{o(l.next(e))}catch(t){a(t)}},i=e=>{try{o(l.throw(e))}catch(t){a(t)}},o=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,i);o((l=l.apply(e,s)).next())});var e,s,l},disabled:B,className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 bg-green-600 hover:bg-green-700 text-white disabled:opacity-60 disabled:cursor-not-allowed",whileHover:{scale:B?1:1.05},whileTap:{scale:B?1:.95},children:B?"Saving...":"Save Changes"}),x.jsx(w.button,{onClick:()=>T(!1),className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 "+(r?"bg-slate-700 hover:bg-slate-600 text-slate-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]},"profile"),"settings"===S&&x.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 "+(r?"text-slate-100":"text-slate-900"),children:"Application Settings"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"p-4 rounded-xl "+(r?"bg-slate-700/30 border border-slate-600/30":"bg-slate-100/50 border border-slate-200/50"),children:[x.jsx("h3",{className:"font-semibold mb-3 "+(r?"text-slate-200":"text-slate-800"),children:"Theme Preferences"}),x.jsx("p",{className:"text-sm mb-4 "+(r?"text-slate-400":"text-slate-600"),children:"Customize the appearance of your dashboard"}),x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("span",{className:"text-sm "+(r?"text-slate-300":"text-slate-700"),children:["Current theme: ",r?"Dark":"Light"]})})]}),x.jsxs("div",{className:"p-4 rounded-xl "+(r?"bg-slate-700/30 border border-slate-600/30":"bg-slate-100/50 border border-slate-200/50"),children:[x.jsx("h3",{className:"font-semibold mb-3 "+(r?"text-slate-200":"text-slate-800"),children:"Data Export"}),x.jsx("p",{className:"text-sm mb-4 "+(r?"text-slate-400":"text-slate-600"),children:"Download your assessment data and reports"}),x.jsx(w.button,{className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(r?"bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 border border-blue-500/30":"bg-blue-100 hover:bg-blue-200 text-blue-700 border border-blue-200"),whileHover:{scale:1.05},whileTap:{scale:.95},children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(y,{className:"w-4 h-4"}),"Export Data"]})})]})]})]},"settings"),"security"===S&&x.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 "+(r?"text-slate-100":"text-slate-900"),children:"Security Settings"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"p-4 rounded-xl "+(r?"bg-slate-700/30 border border-slate-600/30":"bg-slate-100/50 border border-slate-200/50"),children:[x.jsx("h3",{className:"font-semibold mb-3 "+(r?"text-slate-200":"text-slate-800"),children:"Change Password"}),x.jsx("p",{className:"text-sm mb-4 "+(r?"text-slate-400":"text-slate-600"),children:"Update your password to keep your account secure"}),x.jsx(w.button,{className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(r?"bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 hover:bg-yellow-200 text-yellow-700 border border-yellow-200"),whileHover:{scale:1.05},whileTap:{scale:.95},children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(f,{className:"w-4 h-4"}),"Change Password"]})})]}),x.jsxs("div",{className:"p-4 rounded-xl "+(r?"bg-slate-700/30 border border-slate-600/30":"bg-slate-100/50 border border-slate-200/50"),children:[x.jsx("h3",{className:"font-semibold mb-3 "+(r?"text-slate-200":"text-slate-800"),children:"Two-Factor Authentication"}),x.jsx("p",{className:"text-sm mb-4 "+(r?"text-slate-400":"text-slate-600"),children:"Add an extra layer of security to your account"}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("span",{className:"text-sm "+(r?"text-slate-300":"text-slate-700"),children:"Status: Disabled"}),x.jsx(w.button,{className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(r?"bg-green-600/20 hover:bg-green-600/30 text-green-400 border border-green-500/30":"bg-green-100 hover:bg-green-200 text-green-700 border border-green-200"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Enable 2FA"})]})]})]})]},"security"),"notifications"===S&&x.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 "+(r?"text-slate-100":"text-slate-900"),children:"Notification Preferences"}),x.jsx("div",{className:"space-y-4",children:[{label:"Assessment Reminders",description:"Get notified about upcoming assessments"},{label:"Rainfall Alerts",description:"Receive weather updates for your area"},{label:"System Updates",description:"Important platform announcements"},{label:"Weekly Reports",description:"Summary of your water conservation progress"}].map((e,t)=>x.jsx("div",{className:"p-4 rounded-xl "+(r?"bg-slate-700/30 border border-slate-600/30":"bg-slate-100/50 border border-slate-200/50"),children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold "+(r?"text-slate-200":"text-slate-800"),children:e.label}),x.jsx("p",{className:"text-sm "+(r?"text-slate-400":"text-slate-600"),children:e.description})]}),x.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),x.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})},t))})]},"notifications"),"billing"===S&&x.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 "+(r?"text-slate-100":"text-slate-900"),children:"Billing & Subscription"}),x.jsx("div",{className:"p-6 rounded-xl "+(r?"bg-slate-700/30 border border-slate-600/30":"bg-slate-100/50 border border-slate-200/50"),children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:x.jsx("span",{className:"text-2xl",children:"✓"})}),x.jsx("h3",{className:"text-xl font-semibold mb-2 "+(r?"text-slate-200":"text-slate-800"),children:"Free Plan"}),x.jsx("p",{className:"text-sm mb-4 "+(r?"text-slate-400":"text-slate-600"),children:"You're currently on our free plan with basic features"}),x.jsx(w.button,{className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 bg-blue-600 hover:bg-blue-700 text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Upgrade to Pro"})]})})]},"billing")]})})})]})]})]})};export{S as default};
