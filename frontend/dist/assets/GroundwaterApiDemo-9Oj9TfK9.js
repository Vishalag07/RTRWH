import{r as e,j as s,ao as a,ac as l,Q as i,a3 as t,ap as n}from"./react-vendor-CJ3VGwWI.js";import{E as d,g as r}from"./groundwaterApi-B2amRRkl.js";import{m as c}from"./framer-motion-C2hfdD_N.js";import"./vendor-wFsWlTaG.js";const o=({className:o=""})=>{const[m,x]=e.useState(22.5),[h,u]=e.useState(77),[j,p]=e.useState(null),[g,f]=e.useState(!1),[b,y]=e.useState(null),[N,v]=e.useState("");return s.jsxs(c.div,{className:`bg-white rounded-2xl shadow-lg border p-6 ${o}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Enhanced Groundwater Data API Demo"}),s.jsx("p",{className:"text-gray-600",children:"Test real groundwater data from Indian APIs with enhanced soil colors"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),s.jsx("input",{type:"number",value:m,onChange:e=>x(parseFloat(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.1",min:"-90",max:"90"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),s.jsx("input",{type:"number",value:h,onChange:e=>u(parseFloat(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.1",min:"-180",max:"180"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{return e=void 0,s=null,a=function*(){f(!0),y(null),p(null);try{const e=yield r.fetchGroundwaterData(m,h);e.success&&e.data?(p(e.data),v(e.source)):y(e.error||"Failed to fetch data")}catch(e){y(`Network error: ${e}`)}finally{f(!1)}},new Promise((l,i)=>{var t=e=>{try{d(a.next(e))}catch(s){i(s)}},n=e=>{try{d(a.throw(e))}catch(s){i(s)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(t,n);d((a=a.apply(e,s)).next())});var e,s,a},disabled:g,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Loading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(a,{}),"Fetch Data"]})})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Quick Indian locations:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{name:"Delhi",lat:28.6139,lon:77.209},{name:"Mumbai",lat:19.076,lon:72.8777},{name:"Bangalore",lat:12.9716,lon:77.5946},{name:"Chennai",lat:13.0827,lon:80.2707},{name:"Kolkata",lat:22.5726,lon:88.3639},{name:"Hyderabad",lat:17.385,lon:78.4867},{name:"Pune",lat:18.5204,lon:73.8567},{name:"Ahmedabad",lat:23.0225,lon:72.5714}].map(e=>s.jsx("button",{onClick:()=>{x(e.lat),u(e.lon)},className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:e.name},e.name))})]}),b&&s.jsx(c.div,{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(l,{}),s.jsx("span",{className:"font-medium",children:"Error:"}),s.jsx("span",{children:b})]})}),j&&s.jsxs(c.div,{className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-800",children:"Data Source:"}),s.jsx("span",{className:"text-blue-600",children:N})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-blue-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium "+(w=j.metadata.confidence,w>=.8?"text-green-600":w>=.6?"text-yellow-600":"text-red-600"),children:[(e=>e>=.8?"High":e>=.6?"Medium":"Low")(j.metadata.confidence)," (",(100*j.metadata.confidence).toFixed(0),"%)"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(i,{}),"Location Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",j.location.name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Coordinates:"})," ",j.location.lat.toFixed(4),", ",j.location.lon.toFixed(4)]}),j.location.state&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"State:"})," ",j.location.state]}),j.location.district&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"District:"})," ",j.location.district]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Country:"})," ",j.location.country]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(t,{}),"Groundwater Data"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Water Level:"})," ",j.groundwater.level_m.toFixed(2)," m"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Depth to Water:"})," ",j.groundwater.depth_m.toFixed(2)," m"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Quality:"})," ",j.groundwater.quality]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date(j.groundwater.last_updated).toLocaleString()]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Source:"})," ",j.groundwater.source]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Aquifer Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",j.aquifer.type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Material:"})," ",j.aquifer.material]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Thickness:"})," ",j.aquifer.thickness_m.toFixed(2)," m"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Permeability:"})," ",j.aquifer.permeability.toExponential(2)," m/s"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Porosity:"})," ",(100*j.aquifer.porosity).toFixed(1),"%"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Recharge Rate:"})," ",j.aquifer.recharge_rate.toFixed(2)," m/year"]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(n,{}),"Enhanced Soil Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Type:"}),s.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:j.soil.color}}),s.jsx("span",{children:j.soil.type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Texture:"})," ",j.soil.texture]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Depth:"})," ",j.soil.depth_m.toFixed(2)," m"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Permeability:"})," ",j.soil.permeability.toExponential(2)," m/s"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Water Holding:"})," ",(100*j.soil.water_holding_capacity).toFixed(1),"%"]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{className:"font-medium text-green-700",children:"Enhanced Color Palette:"}),s.jsx("div",{className:"flex gap-1 mt-1",children:Object.entries(d[j.soil.type]||{}).map(([e,a])=>s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:a},title:`${e}: ${a}`},e))})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Data Metadata"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"API Endpoint:"})," ",j.metadata.api_endpoint]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Last Fetched:"})," ",new Date(j.metadata.last_fetched).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Enhanced Features:"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:"• Real-time data from Indian APIs (India WRIS, CGWB, Data Portal)"}),s.jsx("li",{children:"• Enhanced soil color palettes with multiple shades"}),s.jsx("li",{children:"• Animated soil layers in 3D visualization"}),s.jsx("li",{children:"• Confidence scoring for data reliability"}),s.jsx("li",{children:"• Fallback to demo data if APIs are unavailable"}),s.jsx("li",{children:"• Interactive soil color previews"})]})]})]});var w};export{o as default};
